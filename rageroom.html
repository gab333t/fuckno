<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FUCK NO</title>
    <link rel="stylesheet" href="rageroom.css">
    <link rel="icon" type="image/x-icon" href="img/favicon_light.svg">
</head>
<body>
    <div class="marquee-container">
        <a class="marquee-header" href="https://gab333t.github.io/fuckno/">FUCK NO</a>
        <nav class="marquee-nav">
            <a class="marquee-text" href="https://gab333t.github.io/fuckno/about.html"></a>
        </nav>
    </div>

    <div class="tool-selection-container" id="tool-selection">
        <h2 class="body-text">Select your tool.</h2>
        <div class="tool-container">
            <img src="img/rock.webp" alt="Rock icon." data-tool="rock">
            <img src="img/sledgehammer.webp" alt="Sledgehammer icon." data-tool="sledgehammer">
            <img src="img/dynamite.webp" alt="Dynamite icon." data-tool="dynamite">
        </div>
        
        <div class="tool-descriptions">
            <h2 class="body-text tool-description" id="rock-desc">ROCK<br>Deals 3 damage with a 1 second cooldown.</h2>
            <h2 class="body-text tool-description" id="sledgehammer-desc">SLEDGEHAMMER<br>Deals 5 damage with a 2 second cooldown.</h2>
            <h2 class="body-text tool-description" id="dynamite-desc">DYNAMITE<br>Deals 8 damage with a 3 second cooldown.</h2>
        </div>
    </div>

    <div class="instructions-container" id="instructions-container">
        <h2 class="body-text instructions-text" id="instructions">You're about to destroy the images you've selected as they cycle through a queue.
            You can change the tool during the experience to better accomodate your needs.
            At the end, you'll be ranked based on how long you take and the number of NO's you brought into the RAGE ROOM today.<br><br>
            You'll be starting off with <span id="tool-name"></span>. Don't hold back.
        </h2>
        <button class="start-button" id="start-button">START</button>
    </div>

    <div class="bottom-marquee-container">
        <div class="bottom-marquee">
            <span class="marquee-content">RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM</span>
            <span class="marquee-content">RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM RAGE ROOM</span>
        </div>
    </div>

    <h2 class="timer">00:00</h2>

<script>
function setFavicon() {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const faviconPath = isDarkMode ? 'img/favicon_dark.svg' : 'img/favicon_light.svg';

    let favicon = document.querySelector("link[rel='icon']");
    if (!favicon) {
        favicon = document.createElement('link');
        favicon.rel = 'icon';
        document.head.appendChild(favicon);
    }
    favicon.href = faviconPath;
}

function updateAboutText() {
    const aboutLink = document.querySelector('.marquee-text');
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    if (window.innerWidth <= 550) {
        const imagePath = isDarkMode ? 'img/about_dark.svg' : 'img/about_light.svg';
        aboutLink.innerHTML = `<img src="${imagePath}" alt="About" class="about-icon" draggable="false">`;
    } else {
        aboutLink.textContent = 'ABOUT';
    }
}

setFavicon();
updateAboutText();

window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
    setFavicon();
    updateAboutText();
});

window.addEventListener('resize', updateAboutText);

let titleIndex = 0;
const titles = ['FUCK NO', 'RAGE ROOM'];
setInterval(() => {
    titleIndex = (titleIndex + 1) % titles.length;
    document.title = titles[titleIndex];
}, 3000);

const toolImages = document.querySelectorAll('.tool-container img');
let selectedTool = null;

toolImages.forEach(img => {
    const originalSrc = img.src;
    const altText = img.alt;
    const toolType = img.dataset.tool;
    
    img.addEventListener('mouseenter', () => {
        const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const mode = isDarkMode ? 'dark' : 'light';
        
        if (altText.includes('Sledgehammer')) {
            img.src = `img/sledgehammer_${mode}.webp`;
        } else if (altText.includes('Dynamite')) {
            img.src = `img/dynamite_${mode}.webp`;
        } else if (altText.includes('Rock')) {
            img.src = `img/rock_${mode}.webp`;
        }
        
        const description = document.getElementById(`${toolType}-desc`);
        if (description) {
            description.classList.add('visible');
        }
    });
    
    img.addEventListener('mouseleave', () => {
        img.src = originalSrc;
        
        const description = document.getElementById(`${toolType}-desc`);
        if (description) {
            description.classList.remove('visible');
        }
    });

    img.addEventListener('click', () => {
        selectedTool = toolType;
        
        const toolNameSpan = document.getElementById('tool-name');
        if (toolType === 'rock') {
            toolNameSpan.textContent = 'a ROCK';
        } else if (toolType === 'sledgehammer') {
            toolNameSpan.textContent = 'a SLEDGEHAMMER';
        } else if (toolType === 'dynamite') {
            toolNameSpan.textContent = 'DYNAMITE';
        }
        
        document.getElementById('tool-selection').classList.add('hidden');
        
        document.getElementById('instructions-container').classList.add('visible');
    });
});

let startTime = null;
let timerInterval = null;
const timerElement = document.querySelector('.timer');

function updateTimer() {
    if (!startTime) return;
    
    const elapsed = Date.now() - startTime;
    
    const seconds = Math.floor(elapsed / 1000);
    const milliseconds = Math.floor((elapsed % 1000) / 10);
    
    const formattedTime = `${String(seconds).padStart(2, '0')}:${String(milliseconds).padStart(2, '0')}`;
    timerElement.textContent = formattedTime;
}

document.getElementById('start-button').addEventListener('click', () => {
    document.querySelector('.timer').classList.add('visible');
    document.querySelector('.bottom-marquee-container').classList.add('visible');
    
    document.getElementById('instructions-container').classList.remove('visible');
    
    startTime = Date.now();
    timerInterval = setInterval(updateTimer, 10);
    updateTimer();
    
    console.log('Game starting with tool:', selectedTool);
});
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FUCK NO</title>
    <link rel="stylesheet" href="index.css">
    <link rel="icon" type="image/x-icon" href="img/favicon_light.svg">
</head>
<body>
    <div class="marquee-container">
        <a class="marquee-header" href="https://gab333t.github.io/fuckno/">FUCK NO</a>
        <nav class="marquee-nav">
            <a class="marquee-text" href="https://gab333t.github.io/fuckno/about.html"></a>
        </nav>
    </div>

    <div class="inventory-grid"></div>
    
    <div class="image-modal-overlay"></div>
    <div class="image-modal">
        <img class="image-modal-img" src="" alt="">
    </div>
    
<script>
const labels = [
    '[01] PARKING24HR',
    '[02] STANDINGFORCONSTRUCTION',
    '[03] BLOCKDRIVEWAY',
    '04_SMOKING',
    '05_ELEVATOR_ICOFIRE',
    '06_DANGERSMOKING',
    '07_DANGERENTER',
    '08_STANDING+PARKING',
    '09_ENTER',
    '10_EATDRINKSMOKE',
    '11_ENTERCROSSTRACK',
    '12_DUMPING',
    '13_FLYERSMENUSADVERTISEMENTS',
    '14_UNSOLICITEDADVERTISEMENTS',
    '15_DUMPINGFINE500',
    '16_SOLICITINGOREXCEPTIONS',
    '17_TRESPASSORPROSECUTE',
    '18_PARKORTOWED',
    '19_STEALMYRECYCLING',
    '20_BLOCKDRIVEWAY',
    '21_TRESPASS',
    '22_TRESPASSONPROPERTY',
    '23_THRUTRAFFIC4HOSPITAL',
    '24_SMOKE25FT',
    '25_BLOCKSTAIRB',
    '26_BLOCKFIREEXIT',
    '27_SMOKING',
    '28_DUMPANDGETPROSECUTED',
    '29_SMOKEVAPEECIG',
    '30_STANDUNDERLIFTS',
    '31_TRESPASS',
    '32_PARKINGFORCONSTRUCTION',
    '33_SOLICITINGLOITERINGTRESPASSING',
    '34_BLOCKLOADINGDOCK',
    '35_PARKSTANDONPRIVATEST',
    '36_PARKACTIVECROSSING',
    '37_OUTSIDEFOODBEV',
    '38_OVERFIIIIILL',
    '39_PPLONLYOPERATOR',
    '40_EXITXXXXXX',
    '41_CHILDRENONCART',
    '42_TOUCHTHANKS',
    '43_ENTERROOMRUN',
    '44_ENTER',
    '45_COMMERCIALTRAFFIC',
    '46_PUBLICRESTROMCUSTOMERSONLY',
    '47_LOCKBIKESORCUT',
    '48_CHAINBIKE2FENCE',
    '49_TOBACCOVAPE4UNDER21',
    '50_FLYERSADMENUSPLS',
    '51_SMOKINGDURINGFUELING',
    '52_DUMPINGBYMTA',
    '53_HOUSEHOLDORBUSINESSTRASH',
    '54_IDLINGENGINE',
    '55_PARKINGBYFDNY',
    '56_ENTRYORMAYBEYES',
    '57_HOODIESSKIMASKSBANDANAS',
    '58_DOGORBIKEINSTORE',
    '59_TRESPASSING',
    '60_BLOCKINGPLSANDTHANKS',
    '61_LITTER4CHURCH',
    '62_BALLPLAYING',
    '63_OURLAUNDRYINOURMACHINES',
    '64_TRESPASSINGORPROSECUTED',
    '65_TRESPASSINGONOURPROPERTY',
    '66_STUPIDPPL',
    '67_MOPEDSANDATVS',
    '68_POSTINGBILLS',
    '69_CLIMBING',
    '70_RIDINGINPORTAUTHORITY',
    '71_ENTERBUTDELIVERIESROK',
    '72_SOLICITLOITERORTRESPASS',
    '73_BIKINGINFLATIRON',
    '74_SHOESINDRYERS',
    '75_BUYORSELLEBT',
    '76_SMOKINGBYPUFFIN'
];

function setFavicon() {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const faviconPath = isDarkMode ? 'img/favicon_dark.svg' : 'img/favicon_light.svg';

    let favicon = document.querySelector("link[rel='icon']");
    if (!favicon) {
        favicon = document.createElement('link');
        favicon.rel = 'icon';
        document.head.appendChild(favicon);
    }
    favicon.href = faviconPath;
}

function updateAboutText() {
    const aboutLink = document.querySelector('.marquee-text');
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    if (window.innerWidth <= 550) {
        const imagePath = isDarkMode ? 'img/about_dark.svg' : 'img/about_light.svg';
        aboutLink.innerHTML = `<img src="${imagePath}" alt="About" class="about-icon" draggable="false">`;
    } else {
        aboutLink.textContent = 'ABOUT';
    }
}

setFavicon();
updateAboutText();

window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
    setFavicon();
    updateAboutText();
});

window.addEventListener('resize', updateAboutText);

let titleIndex = 0;
const titles = ['FUCK NO', 'INVENTORY'];
setInterval(() => {
    titleIndex = (titleIndex + 1) % titles.length;
    document.title = titles[titleIndex];
}, 3000);

function createInventoryGrid() {
    const grid = document.querySelector('.inventory-grid');
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const theme = isDarkMode ? 'dark' : 'light';
    
    for (let i = 1; i <= 76; i++) {
        const containerElement = document.createElement('div');
        containerElement.className = 'inventory-item-container';
        
        const imgElement = document.createElement('img');
        imgElement.src = `img/no${i}_${theme}.webp`;
        imgElement.alt = `Inventory item ${i}`;
        imgElement.className = 'inventory-item';
        imgElement.draggable = false;
        imgElement.loading = 'lazy';
        imgElement.dataset.number = i;
        imgElement.addEventListener('click', (e) => {
            const checkbox = containerElement.querySelector('.checkbox-icon');
            toggleCheckbox(checkbox);
        });
        
        const checkboxElement = document.createElement('img');
        checkboxElement.src = `img/checkbox_${theme}.svg`;
        checkboxElement.alt = 'Checkbox';
        checkboxElement.className = 'checkbox-icon';
        checkboxElement.draggable = false;
        checkboxElement.dataset.number = i;
        checkboxElement.dataset.checked = 'false';
        checkboxElement.addEventListener('click', (e) => {
            e.stopPropagation();
            toggleCheckbox(checkboxElement);
        });
        
        const labelElement = document.createElement('h3');
        labelElement.className = 'small-text';
        labelElement.textContent = labels[i - 1];
        labelElement.dataset.number = i;
        
        containerElement.appendChild(imgElement);
        containerElement.appendChild(checkboxElement);
        containerElement.appendChild(labelElement);
        grid.appendChild(containerElement);
    }
}

function toggleCheckbox(checkboxElement) {
    const number = checkboxElement.dataset.number;
    const isChecked = checkboxElement.dataset.checked === 'true';
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const theme = isDarkMode ? 'dark' : 'light';
    
    const labelElement = document.querySelector(`.small-text[data-number="${number}"]`);
    const containerElement = checkboxElement.closest('.inventory-item-container');
    const imgElement = containerElement.querySelector('.inventory-item');
    
    if (isChecked) {
        checkboxElement.src = `img/checkbox_${theme}.svg`;
        checkboxElement.dataset.checked = 'false';
        if (labelElement) {
            labelElement.classList.remove('checked');
        }
        if (containerElement) {
            containerElement.classList.remove('checked');
        }
        if (imgElement) {
            imgElement.src = `img/no${number}_${theme}.webp`;
        }
    } else {
        checkboxElement.src = `img/checkbox_check_${theme}.svg`;
        checkboxElement.dataset.checked = 'true';
        if (labelElement) {
            labelElement.classList.add('checked');
        }
        if (containerElement) {
            containerElement.classList.add('checked');
        }
        const invertedTheme = isDarkMode ? 'light' : 'dark';
        if (imgElement) {
            imgElement.src = `img/no${number}_${invertedTheme}.webp`;
        }
    }
}

function updateInventoryImages() {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const theme = isDarkMode ? 'dark' : 'light';
    const invertedTheme = isDarkMode ? 'light' : 'dark';
    const images = document.querySelectorAll('.inventory-item');
    const checkboxes = document.querySelectorAll('.checkbox-icon');
    
    images.forEach(img => {
        const number = img.dataset.number;
        const checkbox = document.querySelector(`.checkbox-icon[data-number="${number}"]`);
        const isChecked = checkbox && checkbox.dataset.checked === 'true';
        
        img.src = `img/no${number}_${isChecked ? invertedTheme : theme}.webp`;
    });
    
    checkboxes.forEach(checkbox => {
        const isChecked = checkbox.dataset.checked === 'true';
        if (isChecked) {
            checkbox.src = `img/checkbox_check_${theme}.svg`;
        } else {
            checkbox.src = `img/checkbox_${theme}.svg`;
        }
    });
}

createInventoryGrid();
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateInventoryImages);

function openImageModal(number, theme) {
    const modal = document.querySelector('.image-modal');
    const overlay = document.querySelector('.image-modal-overlay');
    const modalImg = document.querySelector('.image-modal-img');
    const closeIcon = document.querySelector('.image-modal-close');
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    modalImg.src = `img/no${number}_${theme}.webp`;
    modalImg.alt = `Inventory item ${number}`;
    closeIcon.src = isDarkMode ? 'img/menu_close_dark.svg' : 'img/menu_close_light.svg';
    
    modal.classList.add('active');
    overlay.classList.add('active');
    closeIcon.classList.add('active');
    document.body.classList.add('no-scroll');
}

function closeImageModal() {
    const modal = document.querySelector('.image-modal');
    const overlay = document.querySelector('.image-modal-overlay');
    const closeIcon = document.querySelector('.image-modal-close');
    
    modal.classList.remove('active');
    overlay.classList.remove('active');
    closeIcon.classList.remove('active');
    document.body.classList.remove('no-scroll');
}

document.querySelector('.image-modal-overlay').addEventListener('click', closeImageModal);
document.querySelector('.image-modal-close').addEventListener('click', closeImageModal);
</script>
</body>
</html>
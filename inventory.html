<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FUCK NO</title>
    <link rel="stylesheet" href="inventory.css">
    <link rel="icon" type="image/x-icon" href="img/favicon_light.svg">
</head>
<body>
    <div class="mobile-menu-overlay"></div>
    
    <div class="mobile-menu">
        <div class="mobile-menu-item">
            <a class="marquee-text" href="https://gab333t.github.io/fuckno/rageroom.html">Rage Room</a>
            <div class="mobile-menu-line"></div>
        </div>
        <div class="mobile-menu-item">
            <a class="marquee-text" href="https://gab333t.github.io/fuckno/inventory.html">Inventory</a>
            <div class="mobile-menu-line"></div>
        </div>
        <div class="mobile-menu-item">
            <a class="marquee-text" href="https://gab333t.github.io/fuckno/about.html">About</a>
            <div class="mobile-menu-line"></div>
        </div>
    </div>

    <div class="marquee-container">
        <img class="menu-icon" src="img/menu_light.svg" alt="Menu" draggable="false">
        <a class="marquee-header" href="https://gab333t.github.io/fuckno/">FUCK NO</a>
        <nav class="marquee-nav">
            <a class="marquee-text" href="https://gab333t.github.io/fuckno/rageroom.html">Rage Room</a>
            <a class="marquee-text selected" href="https://gab333t.github.io/fuckno/inventory.html">Inventory</a>
            <a class="marquee-text" href="https://gab333t.github.io/fuckno/about.html">About</a>
        </nav>
    </div>

    <div class="inventory-grid"></div>
    
    <div class="image-modal-overlay"></div>
    <img class="image-modal-close" src="img/menu_close_light.svg" alt="Close" draggable="false">
    <div class="image-modal">
        <img class="image-modal-img" src="" alt="">
    </div>
    
</body>
<script>
        function setFavicon() {
            const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const faviconPath = isDarkMode ? 'img/favicon_dark.svg' : 'img/favicon_light.svg';

            let favicon = document.querySelector("link[rel='icon']");
            if (!favicon) {
                favicon = document.createElement('link');
                favicon.rel = 'icon';
                document.head.appendChild(favicon);
            }
            favicon.href = faviconPath;
        }

        function setMenuIcon(isMenuOpen = false) {
            const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const menuIcon = document.querySelector('.menu-icon');
            
            if (isMenuOpen) {
                menuIcon.src = isDarkMode ? 'img/menu_close_dark.svg' : 'img/menu_close_light.svg';
            } else {
                menuIcon.src = isDarkMode ? 'img/menu_dark.svg' : 'img/menu_light.svg';
            }
        }

        function toggleMenu() {
            const mobileMenu = document.querySelector('.mobile-menu');
            const overlay = document.querySelector('.mobile-menu-overlay');
            const isOpening = !mobileMenu.classList.contains('active');
            
            mobileMenu.classList.toggle('active');
            overlay.classList.toggle('active');
            setMenuIcon(isOpening);
        }

        setFavicon();
        setMenuIcon();
        
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
            setFavicon();
            const isMenuOpen = document.querySelector('.mobile-menu').classList.contains('active');
            setMenuIcon(isMenuOpen);
        });

        function setSelectedStyle() {
            const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const selected = document.querySelector('.selected');
            if (selected) {
                if (isDarkMode) {
                    selected.style.backgroundColor = 'white';
                    selected.style.color = 'black';
                } else {
                    selected.style.backgroundColor = 'black';
                    selected.style.color = 'white';
                }
            }
        }
        setSelectedStyle();
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', setSelectedStyle);      

        document.querySelector('.menu-icon').addEventListener('click', toggleMenu);
        document.querySelector('.mobile-menu-overlay').addEventListener('click', toggleMenu);

        let titleIndex = 0;
        const titles = ['FUCK NO', 'INVENTORY'];
        setInterval(() => {
            titleIndex = (titleIndex + 1) % titles.length;
            document.title = titles[titleIndex];
        }, 3000);

        function createInventoryGrid() {
            const grid = document.querySelector('.inventory-grid');
            const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = isDarkMode ? 'dark' : 'light';
            
            for (let i = 1; i <= 76; i++) {
                const imgElement = document.createElement('img');
                imgElement.src = `img/no${i}_${theme}.webp`;
                imgElement.alt = `Inventory item ${i}`;
                imgElement.className = 'inventory-item';
                imgElement.draggable = false;
                imgElement.loading = 'lazy';
                imgElement.dataset.number = i;
                imgElement.addEventListener('click', () => openImageModal(i, theme));
                grid.appendChild(imgElement);
            }
        }

        function updateInventoryImages() {
            const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = isDarkMode ? 'dark' : 'light';
            const images = document.querySelectorAll('.inventory-item');
            
            images.forEach(img => {
                const number = img.dataset.number;
                img.src = `img/no${number}_${theme}.webp`;
            });
        }

        createInventoryGrid();
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateInventoryImages);

        function openImageModal(number, theme) {
            const modal = document.querySelector('.image-modal');
            const overlay = document.querySelector('.image-modal-overlay');
            const modalImg = document.querySelector('.image-modal-img');
            const closeIcon = document.querySelector('.image-modal-close');
            const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            modalImg.src = `img/no${number}_${theme}.webp`;
            modalImg.alt = `Inventory item ${number}`;
            closeIcon.src = isDarkMode ? 'img/menu_close_dark.svg' : 'img/menu_close_light.svg';
            
            modal.classList.add('active');
            overlay.classList.add('active');
            closeIcon.classList.add('active');
            document.body.classList.add('no-scroll');
        }

        function closeImageModal() {
            const modal = document.querySelector('.image-modal');
            const overlay = document.querySelector('.image-modal-overlay');
            const closeIcon = document.querySelector('.image-modal-close');
            
            modal.classList.remove('active');
            overlay.classList.remove('active');
            closeIcon.classList.remove('active');
            document.body.classList.remove('no-scroll');
        }

        document.querySelector('.image-modal-overlay').addEventListener('click', closeImageModal);
        document.querySelector('.image-modal-close').addEventListener('click', closeImageModal);
</script>
</html>